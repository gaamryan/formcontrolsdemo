<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessible Form Controls (WCAG 2.2 Compliant) - Updated</title>
    <style>
        /* Basic Reset & Variables */
        :root {
            --primary-color: #005fcc;
            --primary-hover-color: #004a9f;
            --text-color: #333;
            --background-color: #fff;
            --border-color: #ccc;
            --error-color: #d9534f;
            --focus-outline-color: #005fcc;
            --label-color: #555;
            --input-bg-color: #fff;
            --input-border-color: #ccc;
            --input-focus-border-color: #005fcc;
            --disabled-bg-color: #eee;
            --disabled-text-color: #999;
            --font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
            --spacing-unit: 8px;
            --min-control-height: 44px; /* Minimum height for controls */
        }

        /* Optional Dark Theme Example (triggered by adding class="dark-theme" to body) */
        body.dark-theme {
             --primary-color: #4dabf7;
            --primary-hover-color: #74c0fc;
            --text-color: #eee;
            --background-color: #222;
            --border-color: #555;
            --error-color: #f78b88;
            --focus-outline-color: #4dabf7;
            --label-color: #bbb;
            --input-bg-color: #333;
            --input-border-color: #555;
            --input-focus-border-color: #4dabf7;
            --disabled-bg-color: #444;
            --disabled-text-color: #888;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth; /* Smooth scrolling for anchors and scroll-to-top */
        }

        body {
            font-family: var(--font-family);
            color: var(--text-color);
            background-color: var(--background-color);
            line-height: 1.6;
            padding: calc(var(--spacing-unit) * 2);
            padding-top: 120px; /* Increased space for theme toggle + sticky header */
            transition: background-color 0.3s ease, color 0.3s ease; /* Smooth theme transition */
        }

        /* --- Theme Toggle (Top Left) --- */
        .theme-toggle-container {
            position: absolute; /* Position relative to body */
            top: var(--spacing-unit);
            left: var(--spacing-unit);
            z-index: 110; /* Above sticky header */
            display: flex;
            align-items: center;
            gap: calc(var(--spacing-unit) / 2);
            background: var(--background-color); /* Ensure visibility */
            padding: calc(var(--spacing-unit) / 2);
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: background-color 0.3s ease;
        }
        .theme-toggle-container label { /* The text label */
             font-size: 0.9em;
             font-weight: normal;
             color: var(--label-color);
             margin-bottom: 0; /* Reset margin */
        }

        h1, h2, h3 {
            margin-bottom: calc(var(--spacing-unit) * 2);
            color: var(--primary-color);
        }
        h1 { margin-top: var(--spacing-unit); } /* Add some space below theme toggle */
        h2 { margin-top: calc(var(--spacing-unit) * 4); }
        h3 { margin-top: calc(var(--spacing-unit) * 3); }

        p, ol {
            margin-bottom: calc(var(--spacing-unit) * 2);
        }
        /* Add left padding to ULs */
        ul {
            margin-bottom: calc(var(--spacing-unit) * 2);
            padding-left: 1rem; /* Updated padding */
        }

        pre {
            background-color: #f0f0f0;
            padding: calc(var(--spacing-unit) * 2);
            border-radius: 4px;
            overflow-x: auto;
            margin-top: var(--spacing-unit); /* Space above snippet */
            margin-bottom: var(--spacing-unit);
            border: 1px solid var(--border-color);
        }
        body.dark-theme pre {
             background-color: #3a3a3a;
             border-color: #555;
        }

        code {
            font-family: monospace;
        }

        /* --- Sticky Search Header --- */
        .sticky-search-container {
            position: sticky;
            top: 0;
            left: 0;
            right: 0;
            background-color: var(--background-color);
            padding: calc(var(--spacing-unit) * 2);
            border-bottom: 1px solid var(--border-color);
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: background-color 0.3s ease, border-bottom-color 0.3s ease; /* Smooth theme transition */
        }

        .search-form {
            display: flex;
            align-items: center; /* Vertically align items */
            gap: var(--spacing-unit);
            max-width: 100%; /* Updated max-width */
            margin: 0 auto;
        }

        .search-form label {
            /* Visually hidden but accessible to screen readers */
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        .search-form input[type="search"] {
            flex-grow: 1;
            /* Inherit common styles */
        }

        #search-results-count {
            margin-left: var(--spacing-unit);
            font-size: 0.9em;
            color: var(--label-color);
            white-space: nowrap; /* Prevent wrapping */
        }


        /* --- Form Control Container --- */
        .form-control-item {
            margin-bottom: calc(var(--spacing-unit) * 4);
            padding: 1rem 1.5rem; /* Updated padding */
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--input-bg-color); /* Subtle background difference */
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        body.dark-theme .form-control-item {
             background-color: #2c2c2c;
        }

        .form-control-item.hidden {
            display: none;
        }

        .form-group {
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        /* Common Input & Select Styling with Min Height */
        input[type="text"],
        input[type="password"],
        input[type="email"],
        input[type="url"],
        input[type="tel"],
        input[type="number"],
        input[type="search"],
        input[type="date"],
        input[type="time"],
        input[type="datetime-local"],
        input[type="month"],
        input[type="week"],
        textarea,
        select {
            display: block;
            width: 100%;
            padding: var(--spacing-unit) calc(var(--spacing-unit) * 1.5);
            font-size: 1rem;
            line-height: 1.5;
            color: var(--text-color);
            background-color: var(--input-bg-color);
            background-clip: padding-box;
            border: 1px solid var(--input-border-color);
            border-radius: 4px;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, background-color 0.3s ease, color 0.3s ease;
            margin-top: calc(var(--spacing-unit) / 2); /* Space below label */
            min-height: var(--min-control-height); /* Ensure minimum height */
            /* Adjust vertical alignment if needed due to min-height */
            vertical-align: middle;
        }

        /* Specific adjustments if padding isn't enough for min-height */
        select {
            /* Select elements might need explicit height or padding adjustments */
             padding-top: calc(var(--spacing-unit) * 0.75);
             padding-bottom: calc(var(--spacing-unit) * 0.75);
        }
        input[type="date"],
        input[type="time"],
        input[type="datetime-local"],
        input[type="month"],
        input[type="week"] {
             /* Date/time inputs sometimes render shorter */
             padding-top: calc(var(--spacing-unit) * 0.75);
             padding-bottom: calc(var(--spacing-unit) * 0.75);
        }


        textarea {
            min-height: 100px; /* Keep textarea larger */
            resize: vertical; /* Allow vertical resize */
        }

        /* Focus States */
        input:focus-visible,
        textarea:focus-visible,
        select:focus-visible,
        button:focus-visible,
        input[type="checkbox"]:focus-visible + label::before, /* Style label pseudo-element on checkbox focus */
        input[type="radio"]:focus-visible + label::before,    /* Style label pseudo-element on radio focus */
        a.button-like:focus-visible,
        [role="switch"]:focus-visible,
        .switch input:focus-visible + .slider /* Focus for toggle switch */
        {
            outline: 2px solid var(--focus-outline-color);
            outline-offset: 2px;
            border-color: var(--input-focus-border-color); /* Optional: change border color too */
            box-shadow: 0 0 0 2px rgba(0, 95, 204, 0.25); /* Optional: subtle glow */
        }
        /* Remove default outline when focus-visible is supported */
        input:focus, textarea:focus, select:focus, button:focus {
            outline: none;
        }


        /* Labels */
        label {
            display: inline-block; /* Changed for checkbox/radio alignment */
            margin-bottom: calc(var(--spacing-unit) / 2);
            font-weight: bold;
            color: var(--label-color);
            cursor: pointer; /* Indicate label is clickable */
        }
        /* Block display for inputs that take full width */
        .form-group label:not(.inline-label) {
             display: block;
        }


        /* Help Text / Descriptions */
        .help-text {
            font-size: 0.875em;
            color: var(--label-color);
            margin-top: calc(var(--spacing-unit) / 2);
            display: block; /* Ensure it appears below input */
        }

        /* Required Fields */
        .required-indicator {
            color: var(--error-color);
            margin-left: 2px;
            font-weight: bold;
        }
        label .required-indicator { /* Style indicator when part of label */
             font-weight: bold;
        }

        /* Fieldsets for Grouping */
        fieldset {
            border: 1px solid var(--border-color);
            padding: calc(var(--spacing-unit) * 2);
            margin-bottom: calc(var(--spacing-unit) * 2);
            border-radius: 4px;
        }

        legend {
            padding: 0 calc(var(--spacing-unit));
            font-weight: bold;
            color: var(--primary-color);
        }

        /* Buttons with Min Height */
        button,
        input[type="submit"],
        input[type="reset"],
        input[type="button"],
        a.button-like /* For link styled as button */
        {
            display: inline-flex; /* Use flex to center content vertically */
            align-items: center; /* Center text vertically */
            justify-content: center; /* Center text horizontally */
            font-weight: 400;
            color: #fff;
            text-align: center;
            vertical-align: middle;
            cursor: pointer;
            user-select: none;
            background-color: var(--primary-color);
            border: 1px solid var(--primary-color);
            padding: var(--spacing-unit) calc(var(--spacing-unit) * 1.5);
            font-size: 1rem;
            line-height: 1.5;
            border-radius: 4px;
            text-decoration: none; /* For a.button-like */
            transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            margin-right: var(--spacing-unit); /* Spacing between adjacent buttons */
            margin-bottom: var(--spacing-unit); /* Spacing below buttons */
            min-height: var(--min-control-height); /* Ensure minimum height */
        }

        button:hover,
        input[type="submit"]:hover,
        input[type="reset"]:hover,
        input[type="button"]:hover,
        a.button-like:hover {
            background-color: var(--primary-hover-color);
            border-color: var(--primary-hover-color);
            color: #fff;
            text-decoration: none;
        }

        /* Secondary/Cancel Button Style */
        button.secondary,
        a.button-like.secondary {
            color: var(--primary-color);
            background-color: transparent;
            border-color: var(--primary-color);
        }
        button.secondary:hover,
        a.button-like.secondary:hover {
            color: #fff;
            background-color: var(--primary-hover-color);
            border-color: var(--primary-hover-color);
        }
        body.dark-theme button.secondary {
            color: var(--primary-color);
             border-color: var(--primary-color);
        }
         body.dark-theme button.secondary:hover {
             color: var(--background-color);
             background-color: var(--primary-color);
             border-color: var(--primary-color);
         }


        /* Disabled State */
        input:disabled,
        textarea:disabled,
        select:disabled,
        button:disabled {
            background-color: var(--disabled-bg-color);
            opacity: 0.65;
            cursor: not-allowed;
            color: var(--disabled-text-color);
            border-color: var(--input-border-color); /* Ensure border color matches disabled state */
        }
        input[type="checkbox"]:disabled + label,
        input[type="radio"]:disabled + label {
             color: var(--disabled-text-color);
             cursor: not-allowed;
        }
        input[type="checkbox"]:disabled + label::before,
        input[type="radio"]:disabled + label::before {
             background-color: var(--disabled-bg-color);
             border-color: #bbb; /* Slightly darker border for disabled */
             cursor: not-allowed;
        }


        /* Checkbox & Radio Button Custom Styling (Optional but common) */
        .checkbox-group label,
        .radio-group label {
            display: flex; /* Align custom box and text */
            align-items: center;
            margin-bottom: var(--spacing-unit);
            position: relative; /* Needed for absolute positioning of input */
            padding-left: calc(var(--spacing-unit) * 3.5); /* Space for custom control */
            min-height: calc(var(--spacing-unit) * 3); /* Ensure enough height */
            cursor: pointer;
            font-weight: normal; /* Labels shouldn't be bold here */
            color: var(--text-color); /* Override generic label color if needed */
        }

        .checkbox-group input[type="checkbox"],
        .radio-group input[type="radio"] {
            /* Hide the default checkbox/radio but keep it accessible */
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        /* Custom Checkbox/Radio Appearance */
        .checkbox-group label::before,
        .radio-group label::before {
            content: "";
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            height: calc(var(--spacing-unit) * 2.5); /* Size of the custom box */
            width: calc(var(--spacing-unit) * 2.5);
            border: 1px solid var(--input-border-color);
            background-color: var(--input-bg-color);
            transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out;
        }

        .radio-group label::before {
            border-radius: 50%; /* Make radio buttons round */
        }
        .checkbox-group label::before {
             border-radius: 3px; /* Slightly rounded checkbox */
        }


        /* Custom Checkmark/Dot */
        .checkbox-group input[type="checkbox"]:checked + label::after {
            content: "";
            position: absolute;
            left: calc(var(--spacing-unit) * 0.75);
            top: 50%;
            width: calc(var(--spacing-unit) * 0.75);
            height: calc(var(--spacing-unit) * 1.5);
            border: solid var(--primary-color);
            border-width: 0 3px 3px 0;
            transform: translateY(-65%) rotate(45deg); /* Position and rotate checkmark */
        }

        .radio-group input[type="radio"]:checked + label::after {
            content: "";
            position: absolute;
            left: calc(var(--spacing-unit) * 0.6); /* Center dot */
            top: 50%;
            transform: translateY(-50%);
            height: calc(var(--spacing-unit) * 1.3); /* Size of the dot */
            width: calc(var(--spacing-unit) * 1.3);
            border-radius: 50%;
            background: var(--primary-color);
        }

         /* Hover states for custom controls */
        .checkbox-group label:hover::before,
        .radio-group label:hover::before {
             border-color: var(--input-focus-border-color);
        }


        /* File Input Specific Styling */
        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block; /* Or block if needed */
            margin-top: calc(var(--spacing-unit) / 2);
            min-height: var(--min-control-height); /* Ensure wrapper meets min height */
            display: inline-flex; /* Use flex for alignment */
            align-items: center;
        }
        .file-input-wrapper input[type="file"] {
             /* Hide the default ugly input but keep it functional */
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
         .file-input-wrapper .button-like {
             /* Style a button/label to trigger the file input */
             margin: 0; /* Reset button margins */
             height: 100%; /* Make button fill wrapper height */
         }
        .file-input-wrapper .file-name-display {
            display: inline-block;
            margin-left: var(--spacing-unit);
            font-size: 0.9em;
            color: var(--label-color);
            /* Ensure text doesn't overflow */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 200px; /* Adjust as needed */
        }

        /* Range Input - Display Value */
        .range-group {
            display: flex;
            align-items: center;
            gap: var(--spacing-unit);
            min-height: var(--min-control-height); /* Ensure group meets min height */
        }
        .range-group input[type="range"] {
             flex-grow: 1;
             margin-top: 0; /* Reset margin */
             height: var(--min-control-height); /* Make slider easier to hit */
             cursor: pointer;
        }
        .range-group .range-value {
            font-weight: bold;
            min-width: 3ch; /* Ensure space for 3 digits */
            text-align: right;
        }


        /* Toggle Switch Styling (using checkbox) */
        .switch {
          position: relative;
          display: inline-block;
          width: 50px; /* Width of the switch */
          height: 28px; /* Height of the switch */
          vertical-align: middle; /* Align with label text */
          margin-top: calc(var(--spacing-unit) / 2);
          min-height: var(--min-control-height); /* Ensure wrapper meets min height */
          display: inline-flex; /* Align items */
          align-items: center;
        }

        /* Hide default HTML checkbox used for state */
        .switch input {
          opacity: 0;
          width: 0;
          height: 0;
          position: absolute; /* Take out of layout */
        }

        /* The slider track */
        .slider {
          position: absolute;
          cursor: pointer;
          top: 50%; /* Center vertically */
          transform: translateY(-50%);
          left: 0;
          right: 0;
          height: 28px; /* Explicit height */
          background-color: var(--input-border-color); /* Track color when off */
          transition: .4s;
          border-radius: 28px; /* Rounded track */
        }

        /* The knob */
        .slider:before {
          position: absolute;
          content: "";
          height: 20px; /* Knob height */
          width: 20px; /* Knob width */
          left: 4px; /* Position inside track */
          bottom: 4px;
          background-color: white;
          transition: .4s;
          border-radius: 50%; /* Round knob */
        }

        input:checked + .slider {
          background-color: var(--primary-color); /* Track color when on */
        }

        /* Move knob when checked */
        input:checked + .slider:before {
          transform: translateX(22px); /* Move knob to the right */
        }

        /* Focus style for the switch knob via the hidden checkbox */
        /* Already covered by general input:focus-visible + .slider rule */


        /* --- Scroll to Top Button --- */
        #scrollToTopBtn {
            display: none; /* Hidden by default */
            position: fixed;
            bottom: 20px;
            right: 30px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: var(--primary-color);
            color: white;
            cursor: pointer;
            padding: 0; /* Remove padding, use width/height */
            border-radius: 50%; /* Make it round */
            font-size: 18px; /* Adjust icon size */
            width: 50px; /* Fixed size */
            height: 50px; /* Fixed size */
            line-height: 50px; /* Center icon vertically */
            text-align: center; /* Center icon horizontally */
            opacity: 0.8;
            transition: opacity 0.3s ease, background-color 0.3s ease;
        }

        #scrollToTopBtn:hover {
            background-color: var(--primary-hover-color);
            opacity: 1;
        }
        /* Ensure focus style is highly visible */
         #scrollToTopBtn:focus-visible {
            outline: 3px solid var(--focus-outline-color);
            outline-offset: 3px;
            opacity: 1;
         }
         /* Simple arrow using border */
         #scrollToTopBtn::before {
            content: '';
            display: inline-block;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 10px solid white; /* Arrow points up */
            position: absolute;
            top: 45%; /* Adjust for centering */
            left: 50%;
            transform: translate(-50%, -50%);
         }

         /* Utility class for screen reader only text */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

    </style>
</head>
<body>

    <div class="theme-toggle-container">
         <label for="themeToggle" id="themeToggleLabel" class="inline-label">Dark Mode</label>
         <label class="switch" aria-labelledby="themeToggleLabel">
           <input type="checkbox" id="themeToggle" role="switch" aria-checked="false">
           <span class="slider"></span>
         </label>
    </div>

    <header class="sticky-search-container">
        <h1>Accessible Form Controls Demo</h1>
        <form action="#" class="search-form" role="search" onsubmit="return false;">
            <label for="controlSearchInput">Search Controls</label>
            <input type="search" id="controlSearchInput" placeholder="E.g., 'button', 'date picker', 'checkbox'">
            <button type="submit" class="secondary" aria-label="Search Controls">Search</button>
             <span id="search-results-count" aria-live="polite"></span>
        </form>
    </header>

    <main id="controls-container">

        <div class="form-control-item" data-keywords="text input field textfield string">
            <h2>Text Input</h2>
            <p>Standard input for single-line text.</p>
            <div class="form-group">
                <label for="textInputExample" class="label-block">Your Name <span class="required-indicator" aria-hidden="true">*</span></label>
                <input type="text" id="textInputExample" name="username" placeholder="E.g., Jane Doe" required aria-required="true" aria-describedby="nameHelp">
                <small id="nameHelp" class="help-text">Please enter your full name.</small>
            </div>
            <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="textInputExample"&gt;Your Name &lt;span class="required-indicator" aria-hidden="true"&gt;*&lt;/span&gt;&lt;/label&gt;
  &lt;input type="text" id="textInputExample" name="username" placeholder="E.g., Jane Doe" required aria-required="true" aria-describedby="nameHelp"&gt;
  &lt;small id="nameHelp" class="help-text"&gt;Please enter your full name.&lt;/small&gt;
&lt;/div&gt;</code></pre>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                    <li><strong>Label Association:</strong> The <code>&lt;label&gt;</code>'s <code>for</code> attribute must match the <code>&lt;input&gt;</code>'s <code>id</code>. This links them for screen readers and allows clicking the label to focus the input. (WCAG 1.3.1 Info and Relationships, 3.3.2 Labels or Instructions, 4.1.2 Name, Role, Value)</li>
                    <li><strong>Visible Label:</strong> The label must always be visible.</li>
                    <li><strong>Placeholder:</strong> Use <code>placeholder</code> only for hints or examples, *not* as a replacement for the label. Placeholders often have poor contrast and disappear on input. (WCAG 1.3.1, 3.3.2)</li>
                    <li><strong>Required Fields:</strong> Indicate required fields clearly, both visually (e.g., with '*') and programmatically using <code>required</code> or <code>aria-required="true"</code>. (WCAG 3.3.2)</li>
                    <li><strong>Instructions/Hints:</strong> Provide descriptions or formatting requirements using text linked via <code>aria-describedby</code> pointing to the element containing the hint. (WCAG 3.3.2)</li>
                    <li><strong>Focus Indicator:</strong> Ensure a clear visual focus style. (WCAG 2.4.7 Focus Visible, 2.4.11 Focus Appearance - Enhanced)</li>
                    <li><strong>Target Size:</strong> Ensure the input is tall enough (min. 44px recommended) through padding/height for easy interaction on touch devices. (WCAG 2.5.5 Target Size - Enhanced)</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="email address input contact">
            <h2>Email Input</h2>
            <p>Input specifically for email addresses. Offers built-in validation patterns on supporting browsers.</p>
            <div class="form-group">
                <label for="emailInputExample">Email Address</label>
                <input type="email" id="emailInputExample" name="user_email" placeholder="you@example.com" aria-describedby="emailHelp">
                 <small id="emailHelp" class="help-text">We'll never share your email with anyone else.</small>
            </div>
            <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="emailInputExample"&gt;Email Address&lt;/label&gt;
  &lt;input type="email" id="emailInputExample" name="user_email" placeholder="you@example.com" aria-describedby="emailHelp"&gt;
  &lt;small id="emailHelp" class="help-text"&gt;We'll never share your email with anyone else.&lt;/small&gt;
&lt;/div&gt;</code></pre>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                    <li>Follows the same core principles as Text Input (Label association, visibility, focus, target size, etc.).</li>
                    <li><code>type="email"</code> provides native browser validation for email format, which can improve user experience and trigger accessible error messages automatically in some cases. (WCAG 3.3.1 Error Identification)</li>
                    <li>Mobile devices may show an optimized keyboard layout (e.g., with '@' symbol).</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="password secret input secure">
            <h2>Password Input</h2>
            <p>Input for sensitive information, masking characters by default.</p>
            <div class="form-group">
                <label for="passwordInputExample">Password</label>
                <input type="password" id="passwordInputExample" name="user_pass" required aria-required="true" aria-describedby="passwordHelp">
                 <small id="passwordHelp" class="help-text">Must be at least 8 characters long.</small>
                 </div>
             <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="passwordInputExample"&gt;Password&lt;/label&gt;
  &lt;input type="password" id="passwordInputExample" name="user_pass" required aria-required="true" aria-describedby="passwordHelp"&gt;
  &lt;small id="passwordHelp" class="help-text"&gt;Must be at least 8 characters long.&lt;/small&gt;
  &lt;!-- Add Show/Hide button + JS here if needed --&gt;
&lt;/div&gt;</code></pre>
             <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                    <li>Follows core principles (Label, focus, target size, etc.).</li>
                    <li><code>type="password"</code> masks input for privacy.</li>
                    <li>Consider adding a "Show/Hide Password" toggle button. This button must:
                        <ul>
                            <li>Clearly indicate its function (e.g., "Show Password", "Hide Password").</li>
                            <li>Use <code>aria-pressed</code> (or similar state attribute like <code>aria-label</code> changing) to announce its state (pressed = showing, not pressed = hiding).</li>
                            <li>Be keyboard accessible and meet target size requirements.</li>
                            <li>Programmatically change the input type between "password" and "text".</li>
                        </ul>
                        (WCAG 4.1.2 Name, Role, Value)
                    </li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="url web address website link input">
            <h2>URL Input</h2>
            <p>Input for web addresses (URLs). Offers built-in validation patterns.</p>
            <div class="form-group">
                <label for="urlInputExample">Website URL</label>
                <input type="url" id="urlInputExample" name="website" placeholder="https://example.com">
            </div>
             <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="urlInputExample"&gt;Website URL&lt;/label&gt;
  &lt;input type="url" id="urlInputExample" name="website" placeholder="https://example.com"&gt;
&lt;/div&gt;</code></pre>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                    <li>Follows core principles (Label, focus, target size, etc.).</li>
                     <li><code>type="url"</code> provides native browser validation for URL format. (WCAG 3.3.1 Error Identification)</li>
                    <li>Mobile devices may show an optimized keyboard layout (e.g., with '.com' button).</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="search find query input filter">
            <h2>Search Input (with Button)</h2>
            <p>Input specifically for search queries. Often styled with a search icon or button.</p>
             <div class="form-group" role="search"> <label for="searchInputExample">Search Site</label> <div style="display: flex; gap: var(--spacing-unit); align-items: stretch;"> <input type="search" id="searchInputExample" name="query" placeholder="Enter search term..." style="flex-grow: 1;"> <button type="submit" aria-label="Submit Search">Search</button>
                </div>
            </div>
            <pre><code>&lt;div class="form-group" role="search"&gt;
  &lt;label for="searchInputExample"&gt;Search Site&lt;/label&gt;
  &lt;!-- Use flexbox to align input and button and ensure height --&gt;
  &lt;div style="display: flex; gap: 8px; align-items: stretch;"&gt;
    &lt;input type="search" id="searchInputExample" name="query" placeholder="Enter search term..." style="flex-grow: 1;"&gt;
    &lt;button type="submit" aria-label="Submit Search"&gt;Search&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                 <ul>
                    <li>Follows core principles (Label, focus, target size for both input and button, etc.).</li>
                    <li><code>type="search"</code> may provide a 'clear' button (x) in some browsers.</li>
                     <li>Ensure the search input has a visible, associated label (can be visually hidden if design requires, using accessible techniques like `class="visually-hidden"`).</li>
                     <li>Associate the input with its submit button, often programmatically if it's not part of a standard form submission (e.g. via JS). The `<button type="submit">` within the same form usually works automatically.</li>
                     <li>For live search/filtering, use an <code>aria-live</code> region to announce results updates to screen readers. (WCAG 4.1.3 Status Messages)</li>
                     <li>Wrapping search input and button in an element with `role="search"` provides a helpful landmark for navigation.</li>
                 </ul>
            </div>
        </div>

         <div class="form-control-item" data-keywords="textarea multi-line text input large comments feedback">
            <h2>Textarea</h2>
            <p>Input for multi-line text entry.</p>
            <div class="form-group">
                <label for="textareaExample">Your Comments</label>
                <textarea id="textareaExample" name="comments" rows="5" placeholder="Enter your feedback here..." aria-describedby="commentsHelp"></textarea>
                <small id="commentsHelp" class="help-text">Max 500 characters.</small>
            </div>
            <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="textareaExample"&gt;Your Comments&lt;/label&gt;
  &lt;textarea id="textareaExample" name="comments" rows="5" placeholder="Enter your feedback here..." aria-describedby="commentsHelp"&gt;&lt;/textarea&gt;
  &lt;small id="commentsHelp" class="help-text"&gt;Max 500 characters.&lt;/small&gt;
&lt;/div&gt;</code></pre>
             <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                    <li>Follows core principles (Label association, visibility, focus, required indication, descriptions via <code>aria-describedby</code>).</li>
                    <li>The <code>&lt;textarea&gt;</code> element itself is inherently accessible when paired with a label.</li>
                    <li>Specify expected input length or format clearly in the label or description if applicable. Use `maxlength` attribute if there's a hard limit.</li>
                     <li>Ensure sufficient height for comfortable typing and interaction, meeting target size recommendations indirectly through its dimensions.</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="checkbox check box toggle boolean option select multiple">
            <h2>Checkbox</h2>
            <p>Allows users to select zero or more options from a set.</p>
            <fieldset class="checkbox-group">
                 <legend>Notification Preferences</legend>
                 <div class="form-group">
                    <input type="checkbox" id="checkNews" name="notifications" value="newsletter" checked>
                    <label for="checkNews" class="inline-label">Subscribe to Newsletter</label>
                 </div>
                 <div class="form-group">
                     <input type="checkbox" id="checkUpdates" name="notifications" value="updates">
                     <label for="checkUpdates" class="inline-label">Receive Product Updates</label>
                 </div>
                 <div class="form-group">
                     <input type="checkbox" id="checkOffers" name="notifications" value="offers" disabled>
                     <label for="checkOffers" class="inline-label">Get Special Offers (Currently Unavailable)</label>
                 </div>
            </fieldset>
             <pre><code>&lt;fieldset class="checkbox-group"&gt;
  &lt;legend&gt;Notification Preferences&lt;/legend&gt;

  &lt;div class="form-group"&gt;
    &lt;input type="checkbox" id="checkNews" name="notifications" value="newsletter" checked&gt;
    &lt;label for="checkNews" class="inline-label"&gt;Subscribe to Newsletter&lt;/label&gt;
  &lt;/div&gt;

  &lt;div class="form-group"&gt;
    &lt;input type="checkbox" id="checkUpdates" name="notifications" value="updates"&gt;
    &lt;label for="checkUpdates" class="inline-label"&gt;Receive Product Updates&lt;/label&gt;
  &lt;/div&gt;

  &lt;div class="form-group"&gt;
    &lt;input type="checkbox" id="checkOffers" name="notifications" value="offers" disabled&gt;
    &lt;label for="checkOffers" class="inline-label"&gt;Get Special Offers (Currently Unavailable)&lt;/label&gt;
  &lt;/div&gt;
&lt;/fieldset&gt;</code></pre>
             <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                    <li><strong>Label Association:</strong> CRITICAL. The <code>&lt;label&gt;</code> must be associated using <code>for</code>/<code>id</code>. This ensures clicking the text toggles the checkbox and screen readers announce the label when the checkbox receives focus.</li>
                     <li><strong>Grouping:</strong> Group related checkboxes using <code>&lt;fieldset&gt;</code> and <code>&lt;legend&gt;</code>. The legend provides context for the group. (WCAG 1.3.1 Info and Relationships, 3.3.2 Labels or Instructions)</li>
                     <li><strong>State:</strong> The `checked` attribute reflects the state. Screen readers announce "checked" or "not checked".</li>
                     <li><strong>Keyboard:</strong> Use Spacebar to toggle selection.</li>
                     <li><strong>Custom Styling:</strong> If visually hiding the native checkbox for custom styling, ensure the native element remains focusable and the label correctly targets it. The visual state must match the programmatic state. The clickable area (label) should meet target size requirements.</li>
                     <li><strong>Target Size:</strong> The label itself acts as the primary target. Ensure it has sufficient clickable area (padding, line-height). (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="radio button option select single choice">
            <h2>Radio Buttons</h2>
            <p>Allows users to select exactly one option from a set.</p>
             <fieldset class="radio-group">
                 <legend>Preferred Contact Method <span class="required-indicator" aria-hidden="true">*</span></legend>
                 <div class="form-group">
                    <input type="radio" id="contactEmail" name="contact_method" value="email" checked required aria-required="true">
                    <label for="contactEmail" class="inline-label">Email</label>
                 </div>
                 <div class="form-group">
                    <input type="radio" id="contactPhone" name="contact_method" value="phone" required aria-required="true">
                    <label for="contactPhone" class="inline-label">Phone</label>
                 </div>
                 <div class="form-group">
                     <input type="radio" id="contactMail" name="contact_method" value="mail" required aria-required="true" disabled>
                     <label for="contactMail" class="inline-label">Postal Mail (Not available)</label>
                 </div>
            </fieldset>
             <pre><code>&lt;fieldset class="radio-group"&gt;
  &lt;legend&gt;Preferred Contact Method &lt;span class="required-indicator" aria-hidden="true"&gt;*&lt;/span&gt;&lt;/legend&gt;

  &lt;div class="form-group"&gt;
    &lt;input type="radio" id="contactEmail" name="contact_method" value="email" checked required aria-required="true"&gt;
    &lt;label for="contactEmail" class="inline-label"&gt;Email&lt;/label&gt;
  &lt;/div&gt;

  &lt;div class="form-group"&gt;
    &lt;input type="radio" id="contactPhone" name="contact_method" value="phone" required aria-required="true"&gt;
    &lt;label for="contactPhone" class="inline-label"&gt;Phone&lt;/label&gt;
  &lt;/div&gt;

   &lt;div class="form-group"&gt;
     &lt;input type="radio" id="contactMail" name="contact_method" value="mail" required aria-required="true" disabled&gt;
     &lt;label for="contactMail" class="inline-label"&gt;Postal Mail (Not available)&lt;/label&gt;
   &lt;/div&gt;
&lt;/fieldset&gt;</code></pre>
             <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                    <li><strong>Label Association:</strong> CRITICAL. The <code>&lt;label&gt;</code> must be associated using <code>for</code>/<code>id</code>.</li>
                     <li><strong>Grouping:</strong> MUST be grouped using <code>&lt;fieldset&gt;</code> and <code>&lt;legend&gt;</code>. The legend is essential context.</li>
                     <li><strong>`name` Attribute:</strong> All radio buttons within the *same group* must share the same <code>name</code> attribute. This links them functionally, allowing only one to be selected. (WCAG 1.3.1, 4.1.2)</li>
                     <li><strong>State:</strong> The `checked` attribute indicates the selected option. Screen readers announce the label, "radio button", and state ("checked" or "not checked").</li>
                     <li><strong>Keyboard:</strong> Use Arrow Keys (Up/Down or Left/Right) to navigate *between* options within the group once one has focus. Spacebar selects the focused option (though arrow key navigation often selects automatically). Tab moves into and out of the group.</li>
                     <li><strong>Default Selection:</strong> It's usually best practice to have one radio option selected by default.</li>
                     <li><strong>Target Size:</strong> The label acts as the primary target. Ensure it has sufficient clickable area. (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="select dropdown drop down list options picker menu">
            <h2>Select (Dropdown)</h2>
            <p>Allows users to select one (or multiple with `multiple` attribute) options from a predefined list presented as a dropdown menu.</p>
            <div class="form-group">
                <label for="selectExample">Select Your Country</label>
                <select id="selectExample" name="country">
                    <option value="" disabled selected>--Please choose an option--</option>
                    <optgroup label="North America">
                        <option value="CA">Canada</option>
                        <option value="MX">Mexico</option>
                        <option value="US">United States</option>
                    </optgroup>
                    <optgroup label="Europe">
                        <option value="FR">France</option>
                        <option value="DE">Germany</option>
                        <option value="UK">United Kingdom</option>
                    </optgroup>
                     <option value="OTHER">Other</option>
                </select>
            </div>
            <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="selectExample"&gt;Select Your Country&lt;/label&gt;
  &lt;select id="selectExample" name="country"&gt;
    &lt;option value="" disabled selected&gt;--Please choose an option--&lt;/option&gt;
    &lt;optgroup label="North America"&gt;
      &lt;option value="CA"&gt;Canada&lt;/option&gt;
      &lt;option value="MX"&gt;Mexico&lt;/option&gt;
      &lt;option value="US"&gt;United States&lt;/option&gt;
    &lt;/optgroup&gt;
    &lt;optgroup label="Europe"&gt;
      &lt;option value="FR"&gt;France&lt;/option&gt;
      &lt;option value="DE"&gt;Germany&lt;/option&gt;
      &lt;option value="UK"&gt;United Kingdom&lt;/option&gt;
    &lt;/optgroup&gt;
    &lt;option value="OTHER"&gt;Other&lt;/option&gt;
  &lt;/select&gt;
&lt;/div&gt;</code></pre>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                    <li><strong>Label Association:</strong> Essential (<code>for</code>/<code>id</code>).</li>
                    <li><strong>Native Element:</strong> The native <code>&lt;select&gt;</code> element is generally very accessible out-of-the-box across browsers and assistive technologies.</li>
                    <li><strong>Options:</strong> Use <code>&lt;option&gt;</code> elements for choices. The text content of the option is what's read. Use the <code>value</code> attribute for the data submitted.</li>
                    <li><strong>Option Groups:</strong> Use <code>&lt;optgroup label="Group Name"&gt;</code> to group related options visually and semantically.</li>
                    <li><strong>Placeholder Option:</strong> Often, the first option acts as a placeholder (e.g., "Please select...") and should have an empty or specific value (<code>value=""</code>) and potentially the `disabled` and `selected` attributes so it cannot be submitted as a valid choice.</li>
                    <li><strong>Keyboard:</strong> Opens with Spacebar or Alt+DownArrow. Navigate options with Up/Down arrows. Select with Enter. Start typing letters to jump to options.</li>
                    <li><strong>Custom Selects:</strong> Avoid custom JavaScript/CSS dropdowns unless absolutely necessary, as recreating the native accessibility (especially keyboard interaction and ARIA roles/states like `listbox`, `option`, `aria-selected`, `aria-expanded`) is complex and error-prone. If you must build custom, follow ARIA design patterns rigorously.</li>
                    <li><strong>Target Size:</strong> Ensure the select element meets the minimum height requirement (e.g., 44px) for touch interaction. (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="file input upload attachment select image document">
            <h2>File Input / Upload</h2>
            <p>Allows users to select one or more files from their device for upload.</p>
            <div class="form-group">
                 <label for="fileInputExample">Upload Your Resume (PDF or DOCX)</label>
                 <div class="file-input-wrapper">
                    <button type="button" class="button-like secondary" aria-hidden="true" tabindex="-1">Choose File</button> <span class="file-name-display" id="fileNameDisplayResume">No file chosen</span>
                     <input type="file" id="fileInputExample" name="resume" accept=".pdf,.docx,.doc" aria-describedby="fileHelp resumeConstraints" onchange="document.getElementById('fileNameDisplayResume').textContent = this.files.length > 0 ? this.files[0].name : 'No file chosen';">
                </div>
                <small id="fileHelp" class="help-text">Max file size: 5MB.</small>
                <div id="resumeConstraints" class="help-text">Accepted formats: PDF, DOC, DOCX.</div>
            </div>
            <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="fileInputExample"&gt;Upload Your Resume (PDF or DOCX)&lt;/label&gt;
  &lt;!-- Wrapper helps manage styling and JS interaction --&gt;
  &lt;div class="file-input-wrapper"&gt;
    &lt;!-- Style this button, ensure it meets min-height --&gt;
    &lt;button type="button" class="button-like secondary" aria-hidden="true" tabindex="-1"&gt;Choose File&lt;/button&gt;
    &lt;!-- Display selected file name --&gt;
    &lt;span class="file-name-display" id="fileNameDisplayResume"&gt;No file chosen&lt;/span&gt;
    &lt;!-- The actual file input - visually hidden but functional and focusable --&gt;
    &lt;input
      type="file"
      id="fileInputExample"
      name="resume"
      accept=".pdf,.docx,.doc" &lt;!-- Hint for allowed types --&gt;
      aria-describedby="fileHelp resumeConstraints"
      onchange="document.getElementById('fileNameDisplayResume').textContent = this.files.length > 0 ? this.files[0].name : 'No file chosen';"&gt; &lt;!-- Basic JS to show filename --&gt;
  &lt;/div&gt;
  &lt;small id="fileHelp" class="help-text"&gt;Max file size: 5MB.&lt;/small&gt;
  &lt;div id="resumeConstraints" class="help-text"&gt;Accepted formats: PDF, DOC, DOCX.&lt;/div&gt;
&lt;/div&gt;
&lt;!-- Add more robust JS for better feedback and styling --&gt;
</code></pre>
            <p><em>Note: The CSS provided includes basic styling to hide the default input and use a button trigger. More robust JavaScript is often needed for advanced styling and feedback.</em></p>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                     <li><strong>Label Association:</strong> Essential (<code>for</code>/<code>id</code>). The label should describe the *purpose* of the file upload.</li>
                     <li><strong>Styling Challenges:</strong> Native file inputs are notoriously difficult to style consistently. Common practice involves visually hiding the actual <code>&lt;input type="file"&gt;</code> and using a styled <code>&lt;button&gt;</code> or <code>&lt;label&gt;</code> to trigger it via JavaScript or by wrapping the input within the label.</li>
                     <li><strong>Focus Management:</strong> If hiding the native input, ensure keyboard focus lands correctly on the *trigger element* (the visible button/label) and that activating it (Enter/Space) opens the file browser. The original input, though hidden, must remain functional. (WCAG 2.1.1 Keyboard, 2.4.7 Focus Visible)</li>
                     <li><strong>Feedback:</strong> Provide clear feedback after a file is selected (e.g., display the filename). Use JavaScript to update a designated area. Consider adding constraints (file types, size) using the `accept` attribute and providing clear instructions via text or `aria-describedby`.</li>
                     <li><strong>Error Handling:</strong> Clearly indicate errors (e.g., wrong file type, size exceeded) accessibly, potentially using `aria-invalid` and `aria-describedby`.</li>
                     <li><strong>Target Size:</strong> The visible trigger element (e.g., the "Choose File" button) must meet the minimum target size requirements (44px). (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="date input picker calendar select day month year">
            <h2>Date Input</h2>
            <p>Allows users to select a specific date using a native date picker interface.</p>
            <div class="form-group">
                <label for="dateInputExample">Appointment Date</label>
                <input type="date" id="dateInputExample" name="appointment_date" min="2024-01-01" max="2025-12-31" aria-describedby="dateHelp">
                <small id="dateHelp" class="help-text">Format: YYYY-MM-DD. Use calendar icon or type date.</small>
            </div>
            <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="dateInputExample"&gt;Appointment Date&lt;/label&gt;
  &lt;input type="date"
         id="dateInputExample"
         name="appointment_date"
         min="2024-01-01" &lt;!-- Example minimum date --&gt;
         max="2025-12-31" &lt;!-- Example maximum date --&gt;
         aria-describedby="dateHelp"&gt;
  &lt;small id="dateHelp" class="help-text"&gt;Format: YYYY-MM-DD. Use calendar icon or type date.&lt;/small&gt;
&lt;/div&gt;</code></pre>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                     <li><strong>Label Association:</strong> Essential (<code>for</code>/<code>id</code>).</li>
                     <li><strong>Native Picker Variance:</strong> The appearance and usability (especially keyboard accessibility) of native date pickers (<code>type="date"</code>) vary *significantly* across browsers and operating systems. Some are excellent, others are poor. Test thoroughly.</li>
                     <li><strong>Format Hint:</strong> Provide a hint for the expected date format (e.g., YYYY-MM-DD) as browsers might display it differently than the underlying value format, especially for users not using the native picker (e.g., typing directly). Use <code>aria-describedby</code>.</li>
                     <li><strong>Keyboard Input:</strong> Users should ideally be able to type the date directly into the field in the expected format.</li>
                     <li><strong>Custom Pickers:</strong> If browser inconsistency is a major issue, consider using a well-vetted, accessible custom date picker library. Ensure it has full keyboard support, uses appropriate ARIA roles (e.g., `dialog`, `grid`, `button`), and manages focus correctly. Building one from scratch is complex.</li>
                     <li><strong>Min/Max Dates:</strong> Use `min` and `max` attributes to restrict selectable dates (e.g., <code>min="2024-01-01" max="2025-12-31"</code>).</li>
                     <li><strong>Target Size:</strong> Ensure the input field itself meets the minimum height requirement (44px). (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="time input picker clock select hour minute second">
            <h2>Time Input</h2>
            <p>Allows users to select a specific time.</p>
            <div class="form-group">
                 <label for="timeInputExample">Meeting Start Time</label>
                 <input type="time" id="timeInputExample" name="start_time" min="09:00" max="17:00" step="1800" aria-describedby="timeHelp"> <small id="timeHelp" class="help-text">Select a time between 9:00 AM and 5:00 PM, in 30-minute intervals.</small>
            </div>
             <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="timeInputExample"&gt;Meeting Start Time&lt;/label&gt;
  &lt;input type="time"
         id="timeInputExample"
         name="start_time"
         min="09:00" &lt;!-- Example start time constraint --&gt;
         max="17:00" &lt;!-- Example end time constraint --&gt;
         step="1800" &lt;!-- 1800 seconds = 30 minutes --&gt;
         aria-describedby="timeHelp"&gt;
  &lt;small id="timeHelp" class="help-text"&gt;Select a time between 9:00 AM and 5:00 PM, in 30-minute intervals.&lt;/small&gt;
&lt;/div&gt;</code></pre>
             <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                 <ul>
                    <li><strong>Label Association:</strong> Essential (<code>for</code>/<code>id</code>).</li>
                    <li><strong>Native Picker Variance:</strong> Similar to date pickers, native time pickers (<code>type="time"</code>) vary across browsers. Test usability.</li>
                    <li><strong>Format Hint:</strong> Provide format hints (e.g., HH:MM, 12-hour vs 24-hour) using <code>aria-describedby</code>.</li>
                    <li><strong>Keyboard Input:</strong> Users should ideally be able to type the time.</li>
                    <li><strong>Custom Pickers:</strong> Consider accessible custom libraries if native pickers are inadequate.</li>
                     <li><strong>Min/Max/Step:</strong> Use `min`, `max`, and `step` (in seconds, e.g., `step="900"` for 15-minute increments) attributes to constrain selection.</li>
                     <li><strong>Target Size:</strong> Ensure the input field meets the minimum height requirement (44px). (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="datetime date time local input picker timestamp">
            <h2>Date and Time Input</h2>
            <p>Allows users to select both a date and a time (local).</p>
            <div class="form-group">
                <label for="datetimeInputExample">Event Start Date/Time</label>
                <input type="datetime-local" id="datetimeInputExample" name="event_start" aria-describedby="datetimeHelp">
                <small id="datetimeHelp" class="help-text">Select the date and local time the event begins.</small>
            </div>
            <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="datetimeInputExample"&gt;Event Start Date/Time&lt;/label&gt;
  &lt;input type="datetime-local"
         id="datetimeInputExample"
         name="event_start"
         aria-describedby="datetimeHelp"&gt;
  &lt;small id="datetimeHelp" class="help-text"&gt;Select the date and local time the event begins.&lt;/small&gt;
&lt;/div&gt;</code></pre>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                     <li><strong>Label Association:</strong> Essential (<code>for</code>/<code>id</code>).</li>
                    <li><strong>Native Picker Variance:</strong> Native <code>type="datetime-local"</code> pickers vary significantly. Some browsers might show two separate fields or a combined picker. Test thoroughly.</li>
                    <li><strong>Format Hint:</strong> Provide format hints, understanding the browser might display it differently from the standard value format (YYYY-MM-DDTHH:MM).</li>
                    <li><strong>Keyboard Input & Custom Pickers:</strong> Similar considerations as Date and Time inputs apply.</li>
                    <li><strong>Timezones:</strong> Note that `datetime-local` does *not* include timezone information. Specify timezone requirements in accompanying text if necessary.</li>
                    <li><strong>Target Size:</strong> Ensure the input field meets the minimum height requirement (44px). (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

         <div class="form-control-item" data-keywords="month input picker select year month">
            <h2>Month Input</h2>
            <p>Allows users to select a specific month and year.</p>
            <div class="form-group">
                 <label for="monthInputExample">Billing Cycle Month</label>
                 <input type="month" id="monthInputExample" name="billing_month" min="2024-01" max="2025-12" aria-describedby="monthHelp">
                 <small id="monthHelp" class="help-text">Select the billing month and year (YYYY-MM).</small>
            </div>
            <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="monthInputExample"&gt;Billing Cycle Month&lt;/label&gt;
  &lt;input type="month"
         id="monthInputExample"
         name="billing_month"
         min="2024-01"
         max="2025-12"
         aria-describedby="monthHelp"&gt;
   &lt;small id="monthHelp" class="help-text"&gt;Select the billing month and year (YYYY-MM).&lt;/small&gt;
&lt;/div&gt;</code></pre>
             <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                 <ul>
                    <li><strong>Label Association:</strong> Essential (<code>for</code>/<code>id</code>).</li>
                    <li><strong>Native Picker Variance:</strong> Native <code>type="month"</code> pickers vary. Test usability.</li>
                    <li><strong>Format Hint:</strong> The value format is typically YYYY-MM. Provide hints if needed.</li>
                    <li><strong>Keyboard Input & Custom Pickers:</strong> Similar considerations as Date input apply.</li>
                    <li><strong>Target Size:</strong> Ensure the input field meets the minimum height requirement (44px). (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="week input picker select year week">
            <h2>Week Input</h2>
            <p>Allows users to select a specific week and year.</p>
            <div class="form-group">
                <label for="weekInputExample">Select Project Week</label>
                <input type="week" id="weekInputExample" name="project_week" min="2024-W01" max="2025-W52" aria-describedby="weekHelp">
                <small id="weekHelp" class="help-text">Select the project week (YYYY-W##).</small>
            </div>
            <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="weekInputExample"&gt;Select Project Week&lt;/label&gt;
  &lt;input type="week"
         id="weekInputExample"
         name="project_week"
         min="2024-W01"
         max="2025-W52"
         aria-describedby="weekHelp"&gt;
  &lt;small id="weekHelp" class="help-text"&gt;Select the project week (YYYY-W##).&lt;/small&gt;
&lt;/div&gt;</code></pre>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                    <li><strong>Label Association:</strong> Essential (<code>for</code>/<code>id</code>).</li>
                    <li><strong>Native Picker Variance:</strong> Native <code>type="week"</code> pickers vary. Test usability.</li>
                    <li><strong>Format Hint:</strong> The value format is typically YYYY-W## (e.g., 2024-W52). Provide hints if needed.</li>
                     <li><strong>Keyboard Input & Custom Pickers:</strong> Similar considerations as Date input apply.</li>
                     <li><strong>Target Size:</strong> Ensure the input field meets the minimum height requirement (44px). (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="number numeric input integer float quantity amount spinner">
            <h2>Number Input</h2>
            <p>Input for numerical values. Often includes spinner controls (up/down arrows).</p>
             <div class="form-group">
                 <label for="numberInputExample">Quantity</label>
                 <input type="number" id="numberInputExample" name="quantity" min="1" max="10" step="1" value="1" aria-describedby="numberHelp">
                 <small id="numberHelp" class="help-text">Enter a whole number between 1 and 10.</small>
            </div>
            <pre><code>&lt;div class="form-group"&gt;
  &lt;label for="numberInputExample"&gt;Quantity&lt;/label&gt;
  &lt;input type="number"
         id="numberInputExample"
         name="quantity"
         min="1"
         max="10"
         step="1" &lt;!-- Only whole numbers --&gt;
         value="1" &lt;!-- Default value --&gt;
         aria-describedby="numberHelp"&gt;
  &lt;small id="numberHelp" class="help-text"&gt;Enter a whole number between 1 and 10.&lt;/small&gt;
&lt;/div&gt;</code></pre>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                 <ul>
                    <li><strong>Label Association:</strong> Essential (<code>for</code>/<code>id</code>).</li>
                    <li><strong>Type Attribute:</strong> <code>type="number"</code> can trigger numeric keyboards on mobile devices.</li>
                    <li><strong>Spinner Controls:</strong> Native spinners can sometimes be announced verbosely by screen readers or have inconsistent keyboard support. Test thoroughly. Users should always be able to type the number directly. The spinners themselves might be small targets; ensure the input field provides the main interaction area.</li>
                    <li><strong>Min/Max/Step:</strong> Use <code>min</code>, <code>max</code>, and <code>step</code> attributes to define allowed range and increments (e.g., <code>step="0.01"</code> for currency). (WCAG 3.3.2 Labels or Instructions - implicitly relates to defining constraints)</li>
                    <li><strong>Validation:</strong> Native validation checks if the input is a number and within range. Provide clear error messages if validation fails.</li>
                    <li><strong>Target Size:</strong> Ensure the input field meets the minimum height requirement (44px). (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="range input slider select value volume brightness percentage">
            <h2>Range Input (Slider)</h2>
            <p>Allows selection of a value within a defined range using a slider.</p>
            <div class="form-group range-group">
                <label for="rangeInputExample">Volume</label>
                <input type="range" id="rangeInputExample" name="volume" min="0" max="100" step="1" value="50" aria-describedby="rangeValueHelp">
                <output for="rangeInputExample" class="range-value" id="rangeValueOutput">50</output> <small id="rangeValueHelp" class="help-text visually-hidden">Use arrow keys to adjust. Current value is displayed.</small> </div>
            <script>
                // Basic JS to update the range value display (ensure script runs after elements exist)
                document.addEventListener('DOMContentLoaded', () => {
                    const rangeInput = document.getElementById('rangeInputExample');
                    const rangeOutput = document.getElementById('rangeValueOutput');
                    if(rangeInput && rangeOutput) {
                        // Set initial value on load
                        rangeOutput.textContent = rangeInput.value;
                        // Update value on input
                        rangeInput.addEventListener('input', () => {
                            rangeOutput.textContent = rangeInput.value;
                        });
                    }
                });
            </script>
            <pre><code>&lt;div class="form-group range-group"&gt; &lt;!-- Flex container for alignment --&gt;
  &lt;label for="rangeInputExample"&gt;Volume&lt;/label&gt;
  &lt;input type="range"
         id="rangeInputExample"
         name="volume"
         min="0"
         max="100"
         step="1"
         value="50"
         aria-describedby="rangeValueHelp"&gt; &lt;!-- Describe how to use it --&gt;
  &lt;!-- Use &lt;output&gt; or &lt;span&gt; to display the current value --&gt;
  &lt;output for="rangeInputExample" class="range-value" id="rangeValueOutput"&gt;50&lt;/output&gt;
  &lt;!-- Optional: Hidden help text specifically for screen reader users --&gt;
  &lt;small id="rangeValueHelp" class="help-text visually-hidden"&gt;Use arrow keys to adjust. Current value is displayed next to the slider.&lt;/small&gt;
&lt;/div&gt;

&lt;!-- Add JavaScript to update the 'rangeValueOutput' element on input --&gt;
&lt;script&gt;
  // Ensure script runs after elements are loaded
  document.addEventListener('DOMContentLoaded', () => {
      const rangeInput = document.getElementById('rangeInputExample');
      const rangeOutput = document.getElementById('rangeValueOutput');
      if(rangeInput && rangeOutput) {
          // Set initial value
          rangeOutput.textContent = rangeInput.value;
          // Add listener
          rangeInput.addEventListener('input', () => {
              rangeOutput.textContent = rangeInput.value;
          });
      }
  });
&lt;/script&gt;</code></pre>
             <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                 <ul>
                    <li><strong>Label Association:</strong> Essential (<code>for</code>/<code>id</code>).</li>
                     <li><strong>Communicating Value:</strong> CRITICAL. The slider's visual position doesn't convey the *exact* current value accessibly by default. You MUST provide a way for screen reader users to know the current value. Common methods:
                        <ul>
                            <li>Update a nearby text element dynamically via JavaScript (using `<output>` is semantic) and associate it with the slider using <code>aria-describedby</code> or ensure it's read automatically.</li>
                            <li>Use <code>aria-valuetext</code> on the slider itself to provide a human-readable version of the value (e.g., "75 percent").</li>
                            <li>Ensure the value is announced when changed (often handled natively or via ARIA).</li>
                        </ul>
                        (WCAG 4.1.2 Name, Role, Value)
                     </li>
                    <li><strong>Keyboard:</strong> Use Left/Right arrow keys (or Up/Down depending on orientation) to adjust the value. Home/End keys may jump to min/max.</li>
                    <li><strong>Min/Max/Step:</strong> Define the range and increments using <code>min</code>, <code>max</code>, and <code>step</code>.</li>
                    <li><strong>Target Size:</strong> While the track might be thin, ensure the slider thumb (the draggable part) and the overall element height provide a reasonable target area. Increasing the element's height (as done with `min-height`) helps. (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="toggle switch on off boolean checkbox role switch">
             <h2>Toggle Switch</h2>
             <p>A visually distinct control for on/off or true/false states, often built using a checkbox.</p>
             <div class="form-group" style="display: flex; align-items: center; gap: var(--spacing-unit);"> <label for="toggleSwitchExample" id="toggleSwitchLabel" class="inline-label" style="margin-bottom: 0;">Enable Feature X</label> <label class="switch" aria-labelledby="toggleSwitchLabel">
                   <input type="checkbox" id="toggleSwitchExample" name="feature_x_enabled" role="switch">
                   <span class="slider"></span> </label>
            </div>
             <pre><code>&lt;div class="form-group" style="display: flex; align-items: center; gap: 8px;"&gt;
  &lt;!-- Label for the switch's purpose --&gt;
  &lt;label for="toggleSwitchExample" id="toggleSwitchLabel" class="inline-label" style="margin-bottom: 0;"&gt;Enable Feature X&lt;/label&gt;

  &lt;!-- The interactive switch element (label wraps input) --&gt;
  &lt;!-- CSS classes '.switch' and '.slider' are for visual styling --&gt;
  &lt;label class="switch" aria-labelledby="toggleSwitchLabel"&gt; &lt;!-- Associates name via label --&gt;
    &lt;!-- Hidden checkbox manages state, receives focus --&gt;
    &lt;input type="checkbox"
           id="toggleSwitchExample"
           name="feature_x_enabled"
           role="switch" &lt;!-- Explicit role --&gt;
           aria-checked="false"&gt; &lt;!-- State must be updated via JS --&gt;
    &lt;span class="slider"&gt;&lt;/span&gt; &lt;!-- Visual representation --&gt;
  &lt;/label&gt;
&lt;/div&gt;

&lt;!-- Add JavaScript to sync aria-checked with the checkbox state --&gt;
&lt;script&gt;
  // Ensure script runs after elements are loaded
  document.addEventListener('DOMContentLoaded', () => {
      const switchInput = document.getElementById('toggleSwitchExample');
      if (switchInput) {
        // Set initial state based on 'checked' property
        switchInput.setAttribute('aria-checked', switchInput.checked);

        switchInput.addEventListener('change', () => {
          switchInput.setAttribute('aria-checked', switchInput.checked);
        });
      }
  });
&lt;/script&gt;</code></pre>
             <div class="accessibility-notes">
                 <h3>Accessibility Notes</h3>
                 <ul>
                     <li><strong>Underlying Element:</strong> Typically implemented using a hidden <code>&lt;input type="checkbox"&gt;</code> to manage the state.</li>
                     <li><strong>Label Association:</strong> The visible label must be associated with the hidden checkbox using <code>for</code>/<code>id</code> OR by wrapping the input within the label. Using `aria-labelledby` on the switch element pointing to the label ID is also robust.</li>
                     <li><strong>ARIA Role:</strong> The *interactive container* or the *input itself* should have <code>role="switch"</code>. Applying it to the input is often simplest. (WCAG 4.1.2 Name, Role, Value)</li>
                     <li><strong>ARIA State:</strong> Use <code>aria-checked="true"</code> or <code>aria-checked="false"</code> on the element with <code>role="switch"</code> to communicate the current state to screen readers. This state must be kept in sync with the underlying checkbox's `checked` state via JavaScript.</li>
                     <li><strong>Keyboard Interaction:</strong> Should be focusable and toggleable using the Spacebar, just like a checkbox.</li>
                     <li><strong>Visual Design:</strong> Clearly differentiate the "on" and "off" visual states. Ensure sufficient contrast.</li>
                     <li><strong>Focus Indicator:</strong> Provide a clear focus indicator on the switch element (often styled on the track/slider).</li>
                     <li><strong>Target Size:</strong> The clickable switch element (the `<label class="switch">` in this case) should meet the minimum target size (44px height/width). (WCAG 2.5.5)</li>
                 </ul>
             </div>
         </div>


        <div class="form-control-item" data-keywords="hidden input invisible data parameter form submission">
            <h2>Hidden Input</h2>
            <p>An input field that is not visible to the user but its value is submitted with the form. Used for sending data like session IDs, tokens, or pre-calculated values.</p>
            <form> <input type="hidden" id="csrfToken" name="_csrf_token" value="aBcDeF12345GHIjkl">
                <input type="hidden" id="sessionId" name="session_id" value="zyXwVu98765TsRqPo">
                </form>
             <pre><code>&lt;!-- Example: CSRF Token --&gt;
&lt;input type="hidden" id="csrfToken" name="_csrf_token" value="aBcDeF12345GHIjkl"&gt;

&lt;!-- Example: Session ID or Tracking Code --&gt;
&lt;input type="hidden" id="sessionId" name="session_id" value="zyXwVu98765TsRqPo"&gt;</code></pre>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                    <li><strong>No User Interaction:</strong> Since users cannot see or interact with hidden inputs, standard accessibility concerns like labels, focus, target size, or descriptions do not apply directly to the element itself.</li>
                    <li><strong>Purposeful Use:</strong> Ensure hidden fields are used appropriately (e.g., for security tokens like CSRF, tracking codes, data that shouldn't be user-modified) and not to obscure information that the user should be aware of or control.</li>
                    <li><strong>Name and Value:</strong> Ensure the <code>name</code> and <code>value</code> attributes are set correctly as they are crucial for form submission.</li>
                </ul>
            </div>
        </div>

        <div class="form-control-item" data-keywords="button submit reset cancel action click interactive">
            <h2>Buttons</h2>
            <p>Elements used to trigger actions, such as submitting forms, resetting fields, canceling operations, or performing other custom actions.</p>
            <div class="form-group">
                <button type="submit">Submit Form</button>
                <button type="reset" class="secondary">Reset Fields</button>
                <button type="button" class="secondary">Cancel</button>
                <button type="button" disabled>Disabled Action</button>
                <a href="#some-section" class="button-like secondary" role="button">Link styled as Button</a> </div>
             <pre><code>&lt;!-- Submit Button (submits parent form) --&gt;
&lt;button type="submit"&gt;Submit Form&lt;/button&gt;

&lt;!-- Reset Button (resets parent form - use carefully!) --&gt;
&lt;button type="reset" class="secondary"&gt;Reset Fields&lt;/button&gt;

&lt;!-- Standard/Cancel Button (requires JS for action) --&gt;
&lt;button type="button" class="secondary"&gt;Cancel&lt;/button&gt;

&lt;!-- Disabled Button --&gt;
&lt;button type="button" disabled&gt;Disabled Action&lt;/button&gt;

&lt;!-- Link styled as button (navigates or needs JS) --&gt;
&lt;a href="#some-section" class="button-like secondary" role="button"&gt;Link styled as Button&lt;/a&gt;
</code></pre>
            <div class="accessibility-notes">
                <h3>Accessibility Notes</h3>
                <ul>
                    <li><strong>Use <code>&lt;button&gt;</code> Element:</strong> Prefer the <code>&lt;button&gt;</code> element over <code>&lt;input type="button"&gt;</code>, <code>&lt;input type="submit"&gt;</code>, or <code>&lt;input type="reset"&gt;</code>. It's more flexible (allows HTML content like icons inside) and generally easier to style accessibly.</li>
                    <li><strong>Clear, Concise Labels:</strong> The text content of the button must clearly describe its action (e.g., "Submit Application", "Save Changes", "Cancel Edit", "Show Details"). Avoid ambiguous labels like "Click Here" or "Go". (WCAG 2.4.6 Headings and Labels, 3.3.2 Labels or Instructions)</li>
                    <li><strong>`type` Attribute:</strong>
                        <ul>
                            <li><code>type="submit"</code>: Submits the parent form. Activates with Enter key when focus is anywhere inside the form (unless another button/input intercepts Enter).</li>
                            <li><code>type="reset"</code>: Resets form controls to their initial values. **Use with caution**, as accidental activation can frustrate users. Often better to provide a "Cancel" or "Clear" button with more controlled behavior via JS.</li>
                            <li><code>type="button"</code>: Has no default behavior. Used for custom actions triggered by JavaScript.</li>
                            <li>If `type` is omitted, it defaults to `submit`. Always specify the type explicitly.</li>
                        </ul>
                    </li>
                     <li><strong>Keyboard Accessibility:</strong> Buttons must be focusable (tabbable) and activatable using both Enter and Spacebar keys. (WCAG 2.1.1 Keyboard)</li>
                     <li><strong>Focus Indicator:</strong> Ensure a clear visual focus style. (WCAG 2.4.7, 2.4.11)</li>
                     <li><strong>Disabled State:</strong> Use the `disabled` attribute to make a button non-interactive. Ensure the visual styling clearly indicates the disabled state. Disabled buttons are not focusable.</li>
                     <li><strong>Links Styled as Buttons:</strong> If an `<a>` tag is styled to look like a button but performs navigation, ensure it behaves like a link (activates with Enter only, shows URL on hover). If it triggers an action via JS, it might be better to use a `<button>`. If using `<a>`, consider adding `role="button"` if it performs an action rather than navigation, but using `<button>` is generally preferred. Ensure adequate target size.</li>
                     <li><strong>Target Size:</strong> Buttons must meet the minimum target size (44px height/width recommended). (WCAG 2.5.5)</li>
                </ul>
            </div>
        </div>

    </main>

    <button id="scrollToTopBtn" title="Go to top" aria-label="Scroll to top"></button>

    <script>
        // Wait for the DOM to be fully loaded before running scripts
        document.addEventListener('DOMContentLoaded', () => {

            // --- Search/Filter Logic ---
            const searchInput = document.getElementById('controlSearchInput');
            const controlsContainer = document.getElementById('controls-container');
            const controlItems = controlsContainer ? controlsContainer.getElementsByClassName('form-control-item') : [];
            const resultsCountSpan = document.getElementById('search-results-count');
            let totalControls = controlItems.length;

            if (searchInput && controlsContainer && resultsCountSpan && controlItems.length > 0) {
                const filterControls = () => {
                    const searchTerm = searchInput.value.toLowerCase().trim();
                    let visibleCount = 0;

                    for (let item of controlItems) {
                        const title = item.querySelector('h2')?.textContent.toLowerCase() || '';
                        const keywords = item.dataset.keywords?.toLowerCase() || '';
                        const isMatch = searchTerm === '' || title.includes(searchTerm) || keywords.includes(searchTerm);

                        if (isMatch) {
                            item.classList.remove('hidden');
                            visibleCount++;
                        } else {
                            item.classList.add('hidden');
                        }
                    }
                    resultsCountSpan.textContent = `${visibleCount} of ${totalControls} control${visibleCount !== 1 ? 's' : ''} shown.`;
                };

                searchInput.addEventListener('input', filterControls);
                // Initialize count display and potential initial filtering if needed
                filterControls();
            } else if(resultsCountSpan) {
                 resultsCountSpan.textContent = `0 controls found.`; // Handle case where controls aren't loaded
            }


            // --- Scroll to Top Button Logic ---
            const scrollToTopBtn = document.getElementById("scrollToTopBtn");

            if (scrollToTopBtn) {
                // Show button when scrolling down
                window.onscroll = function() {
                    if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                        scrollToTopBtn.style.display = "block";
                    } else {
                        scrollToTopBtn.style.display = "none";
                    }
                };

                // Scroll to top when clicked
                scrollToTopBtn.addEventListener('click', function() {
                    window.scrollTo({top: 0, behavior: 'smooth'});
                    // Optional: Move focus to the top of the page after scrolling
                    // Try focusing the body or the main heading
                    document.querySelector('h1')?.focus();
                });
            }

             // --- Theme Toggle Logic ---
             const themeToggle = document.getElementById('themeToggle');
             if (themeToggle) {
                 // Function to apply theme based on toggle state
                 const applyTheme = (isDark) => {
                     if (isDark) {
                         document.body.classList.add('dark-theme');
                         themeToggle.setAttribute('aria-checked', 'true');
                     } else {
                         document.body.classList.remove('dark-theme');
                         themeToggle.setAttribute('aria-checked', 'false');
                     }
                 };

                 // Event listener for changes
                 themeToggle.addEventListener('change', function() {
                     applyTheme(this.checked);
                     // Optional: Save preference to localStorage
                     // localStorage.setItem('theme', this.checked ? 'dark' : 'light');
                 });

                 // Optional: Check for saved preference or OS preference on load
                 // const savedTheme = localStorage.getItem('theme');
                 const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

                 // let currentThemeIsDark = savedTheme === 'dark' || (!savedTheme && prefersDark);
                 let currentThemeIsDark = prefersDark; // Prioritize OS setting if no saved theme

                 themeToggle.checked = currentThemeIsDark;
                 applyTheme(currentThemeIsDark);

             }

             // --- Toggle Switch Aria Sync ---
             const switches = document.querySelectorAll('input[role="switch"]:not(#themeToggle)'); // Exclude theme toggle as it's handled above
             switches.forEach(switchInput => {
                 // Set initial state based on 'checked' property
                switchInput.setAttribute('aria-checked', switchInput.checked);

                 switchInput.addEventListener('change', () => {
                     switchInput.setAttribute('aria-checked', switchInput.checked);
                });
             });

             // --- Range Slider Initial Value Sync ---
             // Already handled within the range slider section using DOMContentLoaded listener

             // --- File Input Initial Text ---
             // Ensure initial text is correct if no file is pre-selected
             const fileDisplays = document.querySelectorAll('.file-name-display');
             fileDisplays.forEach(display => {
                 const inputId = display.id.replace('fileNameDisplay', ''); // Derive input ID convention
                 const fileInput = document.getElementById(inputId.charAt(0).toLowerCase() + inputId.slice(1) + 'InputExample'); // Adjust based on your ID pattern
                 if (fileInput && fileInput.files && fileInput.files.length === 0) {
                     display.textContent = 'No file chosen';
                 } else if (fileInput && fileInput.files && fileInput.files.length > 0) {
                     display.textContent = fileInput.files[0].name; // Show pre-selected file name if any
                 }
             });

        }); // End DOMContentLoaded
    </script>

</body>
</html>

